<!DOCTYPE html>

<html>
    <head>
        <style>
            #piloto{
                width: 30px;
                height: 30px;
                border-radius: 3px;
                border: 1px rgb(37, 102, 37);
                background: rgb(133, 202, 133);
            }
        </style>
    </head>
    <body>
        <div id="piloto"></div>
        <div id="mensaje"></div>
        <script>
            // lo que hacemos en el bucle es mirar por segundo la conexion a internet
            var temporizador = setTimeout("bucle()", 1000)
            let piloto = document.querySelector('#piloto')
            let mensaje = document.querySelector('#mensaje')

            function bucle(){
                if(navigator.onLine){
                    piloto.style.background = "blue";
                    mensaje.textContent = "";
                //si no hay internet
                }else{
                    piloto.style.background = "black";
                    mensaje.textContent = "Has perdido la conesion a Internet, los datos se guadaran en local hasta que vuelva la conexi√≥n";
                }
                clearTimeout(temporizador)
                temporizador = setTimeout("bucle()", 1000)
            }

        </script>
    </body>
</html>