<!DOCTYPE html>
<html>
    <head>
        <style>
            .textocontenedor .textarea_nuevo {
                width: 500px;
                height: 500px;
                border-radius: 10px;
                box-sizing: border-box;
                border: 1px solid black;
                padding: 20px;
            }
            .textocontenedor .barra_botones {
                width: 500px;
                height: 50px;
                border-radius: 10px;
                padding: 20px;
                border: 1px solid black;
                box-sizing: border-box;
            }
        </style>
    </head>
    <body>
        <textarea></textarea>
        <script>
            // Enumeramos los elementos textarea
            let textos = document.querySelectorAll("textarea");

            // Indicamos cuántos tenemos
            console.log("tengo", textos.length, "textarea");

            textos.forEach(function (textarea) {
                // Creamos un contenedor para los textos
                let contenedor = document.createElement("div");
                contenedor.setAttribute("class", "textocontenedor");
                //lo reemplazmso por el div
                textarea.replaceWith(contenedor);
                //le poenemos el texto dentro del contendor 
                contenedor.appendChild(textarea)
                textarea.style.display = "none";


                // Creamos un div para los botones (barra_botones)
                let barra = document.createElement("div");
                 // Asignamos la clase para los botones
                barra.classList.add("barra_botones");
                // Añadimos la barra al contenedor
                contenedor.appendChild(barra); 

                // Ahora creamos nuestro div que será el "textarea" editable
                let mitextarea = document.createElement("div");
                mitextarea.classList.add("textarea_nuevo"); 
                contenedor.appendChild(mitextarea)
                // Lo hacemos editable
                mitextarea.setAttribute("contenteditable", "true"); 
               
            });
        </script>
    </body>
</html>