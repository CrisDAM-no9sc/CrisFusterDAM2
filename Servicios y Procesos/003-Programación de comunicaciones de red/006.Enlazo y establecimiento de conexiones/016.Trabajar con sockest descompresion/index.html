<!DOCTYPE html>
<html>
<head>
    <title>Cliente</title>
</head>
<body>
    <h1>Vamos a recibir información comprimida</h1>
</body>
<script>
    const socket = new WebSocket("ws://localhost:3000");

    // Abrimos conexión con WebSocket
    socket.addEventListener("open", () => {
        console.log("Se ha abierto una conexión");
        socket.send(JSON.stringify({ mensaje: "hola" }));
    });
    socket.addEventListener("error", (event) => {
        console.error("Error en WebSocket:", event);
    });

    // Recibimos mensajes del socket
    socket.addEventListener("message", (event) => {
        let datos = JSON.parse(event.data);
        console.log("Datos recibidos:", datos);
        // Muestra los datos en la consola
        if (datos.datos) {
            console.log("Array de datos:", datos.datos);
        }
    });
</script>
</html>
