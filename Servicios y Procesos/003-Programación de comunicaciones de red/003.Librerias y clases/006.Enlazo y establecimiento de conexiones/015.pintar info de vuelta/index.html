<!DOCTYPE html>
<html>
<head>
</head>
<body>
    <script src="funciones.js"></script>
    <canvas></canvas>
    <script>

        const lienzo = document.querySelector("canvas");
        const contexto = lienzo.getContext("2d");
        lienzo.width = 369;
        lienzo.height = 215;

        let imagen = new Image();
        imagen.src = "Captura1.png";
        imagen.onload = function(){
            contexto.drawImage(imagen, 0, 0);    
            const coleccion = contexto.getImageData(0, 0, 369, 215).data;
            console.log("array original: ");
            console.log(coleccion);
            console.log("array comprimido: ");
            let comprimido = comprimir(coleccion);
            console.log(comprimido);
            console.log("Array descomprimido: ")
            let descomprimido = descomprimir(comprimido);
            console.log(descomprimido);

            let datos = contexto.getImageData(0, 0, 369, 215);
            for(let i = 0; i < datos.data.length; i++) {
                datos.data[i] = descomprimido[i];
            }
            contexto.putImageData(datos, 0, 0);
            }

    </script>
</body>
</html>
