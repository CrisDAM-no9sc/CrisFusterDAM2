<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <canvas></canvas>
        <script>
            const memoriainicial = performance.memory.usedJSHeapSize;
            const lienzo = document.querySelector("canvas"); // corregido aquÃ­
            const contexto = lienzo.getContext("2d");
            lienzo.width = 860;
            lienzo.height = 860;

            let imagen = new Image();
            imagen.src = "principal.png";
            
            imagen.onload = function() {
                contexto.drawImage(imagen, 0, 0);
                const memoriainicial = performance.memory.usedJSHeapSize;
                const coleccion = contexto.getImageData(0,0,860,860).data;
                setTimeout(() => {
                    const memoriafinal = performance.memory.usedJSHeapSize;
                    let memoriautilizada = memoriafinal - memoriainicial;
                    console.log(memoriautilizada);
                    console.log(coleccion);
                }, 100);
            }
        </script>
    </body>
</html>
