<!doctype html>
<html>

    <style>
      canvas { border: 1px solid grey; }
    </style>

  <body>
    <button class="herramienta" id="dibujar">Dibujar</button>
    <button class="herramienta" id="borrar">Borrar</button>
    <input type="color" id="color">
    <select id="radio">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>
    <canvas></canvas>
    <script>
      var operacion= "dibujar"; 
      var radio = 1;
      var pulsado = false; // Variable para determinar si se está presionando el ratón
      
      document.onmousedown = function() {
        pulsado = true;
      }
      
      document.onmouseup = function() {
        pulsado = false;
      }

      const lienzo = document.querySelector("canvas");
      const contexto = lienzo.getContext("2d");
      lienzo.width = 800;
      lienzo.height = 800;

      lienzo.onmousemove = function(e) {
        if (pulsado) {
            if(operacion == "dibujar"){
                contexto.fillRect(e.offsetX, e.offsetY,radio,radio);
            }else{
                contexto.clearRect(e.offsetX, e.offsetY,radio,radio);
            }
        }
      }

      document.getElementById("color").onchange = function() { 
        contexto.fillStyle = this.value; // Cambia el color de relleno
      }

      document.getElementById("radio").onchange = function() {
        radio = this.value; // Actualiza el tamaño del pincel con el valor seleccionado
      }
      document.getElementById("dibujar").onclick = function(){
        operacion ="dibujar";
      }
      document.getElementById("borrar").onclick = function(){ 
        operacion = "borrar"                                    
      }
    </script>
  </body>
</html>
